# 实施计划: 个人作品集网站

## 概述

将设计转换为功能完整的Next.js 14个人作品集网站，采用增量开发方式，每个任务都建立在前一个任务的基础上。重点关注双语支持、交互式组件和响应式设计。

## 项目背景

这是一个展示18年软件架构师能力的个人作品集网站 `niagaradataanalyst.com`，核心目标是展示"AI时代一人军团"的能力，主要案例研究是 `interviewpass.me` 项目。网站必须严格支持中英文双语，所有代码注释和文档使用中文。

## 统一编码规则

### 代码风格规范
- **语言**: TypeScript + React (Next.js 14 App Router)
- **样式**: 严格使用Tailwind CSS，禁止内联样式
- **注释**: 所有代码注释必须使用中文
- **命名**: 组件使用PascalCase，函数和变量使用camelCase
- **文件结构**: 严格按照设计文档中的文件结构组织

### 组件开发规范
```typescript
// 组件模板示例
/**
 * 组件名称 - 组件功能描述
 * @description 详细描述组件的用途和功能
 */
interface ComponentProps {
  // 属性定义，使用中文注释
}

const ComponentName: React.FC<ComponentProps> = ({ prop1, prop2 }) => {
  // 使用语言上下文获取翻译
  const { t, language } = useLanguage();
  
  return (
    <div className="tailwind-classes">
      {/* 中文注释说明UI结构 */}
    </div>
  );
};

export default ComponentName;
```

### 双语支持规范
- 所有用户可见文本必须通过 `t()` 函数获取
- 翻译键使用点分隔的层级结构（如：`nav.home`, `hero.title`）
- 中文为主要语言，英文为辅助语言
- 语言切换必须在所有页面保持状态

### 测试规范
- 使用 `@fast-check/jest` 进行属性测试
- 每个属性测试最少100次迭代
- 测试标签格式：`Feature: personal-portfolio-website, Property {number}: {property_text}`
- 单元测试使用 `@testing-library/react`

## 任务

- [x] 0. 规范文档更新
  - **目标**: 将新增需求（R10-R13）回写到requirements.md、design.md、tasks.md，保持Spec Coding范式完整追溯链
  - **具体操作**:
    - 更新requirements.md: 新增R10(SEO)、R11(MCP)、R12(AI理解展示)、R13(数据分析展示)，更新R2(5个导航项)和R7(Vertex AI驱动)
    - 更新design.md: 架构图新增Vertex AI/MCP/SEO层，技术栈新增依赖，文件结构新增所有新文件，新增组件接口
    - 更新tasks.md: 新增Task 14-17，更新现有任务依赖
  - **验收标准**: 需求→设计→任务的完整追溯链
  - _需求: 全部_

- [ ] 1. 项目初始化和核心基础设施
  - **目标**: 建立完整的Next.js 14项目基础，配置所有必需的开发工具和依赖
  - **具体操作**:
    - 使用 `npx create-next-app@latest personal-portfolio --typescript --tailwind --app` 创建项目
    - 安装必需依赖：`@fast-check/jest`, `@testing-library/react`, `recharts`, `reactflow`, `@google-cloud/vertexai`, `schema-dts`
    - 创建完整的文件夹结构：`src/components/`, `src/contexts/`, `src/data/`, `src/types/`
    - 配置 `tsconfig.json` 和 `tailwind.config.js`
    - 创建 `src/types/index.ts` 定义所有TypeScript接口
  - **验收标准**: 项目可以成功启动，所有依赖正确安装，文件结构符合设计文档
  - _需求: 8.1, 8.2_

- [ ] 2. 语言管理系统实现
  - [ ] 2.1 创建语言上下文和翻译服务
    - **目标**: 实现完整的双语支持系统，包括状态管理和数据存储
    - **具体操作**:
      - 创建 `src/contexts/LanguageContext.tsx`，实现语言状态管理和持久化
      - 创建 `src/data/translations.ts`，包含所有页面的完整中英文翻译
      - 实现 `useLanguage` 自定义Hook，提供 `t()` 翻译函数
      - 添加localStorage支持，保持语言偏好
    - **关键接口**:
      ```typescript
      interface LanguageContextType {
        language: 'zh' | 'en';
        setLanguage: (lang: 'zh' | 'en') => void;
        t: (key: string) => string;
      }
      ```
    - **翻译数据结构**: 必须包含nav, hero, capabilities, caseStudy, ai等所有模块
    - **验收标准**: 语言切换功能正常，翻译数据完整，状态持久化工作
    - _需求: 1.1, 1.2, 1.3, 1.4_

  - [ ]* 2.2 为语言管理系统编写属性测试
    - **目标**: 验证语言管理系统在所有场景下的一致性
    - **测试内容**: 语言切换、状态持久化、翻译键完整性
    - **属性1: 语言管理一致性**
    - **验证: 需求 1.1, 1.2, 1.4**

  - [ ]* 2.3 为翻译数据编写属性测试
    - **目标**: 确保翻译数据的结构完整性和内容有效性
    - **测试内容**: 翻译键存在性、中英文内容对应性
    - **属性2: 翻译数据完整性**
    - **验证: 需求 1.3, 9.3**

- [ ] 3. 全局导航系统
  - [ ] 3.1 实现导航栏组件
    - **目标**: 创建响应式的全局导航栏，支持双语和路由
    - **具体操作**:
      - 创建 `src/components/Navbar.tsx`，包含标志和导航链接
      - 创建 `src/components/LanguageToggle.tsx`，实现中/En切换按钮
      - 使用Next.js Link组件实现客户端路由
      - 添加移动端响应式菜单（汉堡菜单）
    - **导航链接**: 首页(/), InterviewPass案例(/case-study), 数据分析(/data-analysis), 架构(/architecture), 关于(/about)
    - **样式要求**: 暗色主题，标志突出显示，语言切换按钮明显
    - **验收标准**: 导航在所有页面可见，链接正确路由，语言切换正常
    - _需求: 2.1, 2.2, 2.3, 2.4_

  - [ ]* 3.2 为导航系统编写属性测试
    - **目标**: 验证导航系统在所有页面的一致性和功能性
    - **测试内容**: 导航可见性、链接功能、语言切换
    - **属性3: 导航系统一致性**
    - **验证: 需求 2.4, 2.5**

  - [ ]* 3.3 为导航组件编写单元测试
    - **目标**: 测试导航组件的具体渲染和交互
    - **测试内容**: 标志显示、链接存在、语言按钮功能
    - _需求: 2.1, 2.2, 2.3_

- [ ] 4. 根布局和页面结构
  - [ ] 4.1 配置根布局
    - **目标**: 建立应用的根布局结构，集成全局组件和样式
    - **具体操作**:
      - 更新 `src/app/layout.tsx`，包装LanguageProvider
      - 集成Navbar组件到布局中
      - 配置全局CSS和暗色主题
      - 设置字体和基础样式变量
    - **布局结构**:
      ```tsx
      <LanguageProvider>
        <Navbar />
        <main className="min-h-screen bg-gray-900">
          {children}
        </main>
      </LanguageProvider>
      ```
    - **验收标准**: 所有页面共享一致的布局，语言上下文可用，样式正确应用
    - _需求: 8.4, 8.5_

  - [ ] 4.2 创建基础页面路由
    - **目标**: 建立应用的页面路由结构
    - **具体操作**:
      - 创建 `src/app/page.tsx`（首页）基础结构
      - 创建 `src/app/case-study/page.tsx`（案例研究页面）基础结构
      - 设置页面元数据和SEO信息
      - 添加页面级的双语支持
    - **页面结构**: 每个页面都应该使用语言上下文，包含适当的元数据
    - **验收标准**: 页面路由正常工作，双语支持正确，SEO元数据完整
    - _需求: 5.1_

- [ ] 5. 首页英雄区块和能力展示
  - [ ] 5.1 实现英雄区块组件
    - **目标**: 创建首页的主要展示区域，突出架构师的核心价值主张
    - **具体操作**:
      - 创建 `src/components/HeroSection.tsx`
      - 实现左侧文本（标题、副标题、描述）+ 右侧图标的布局
      - 添加"无限循环"SVG图标，代表Dev->Data->Insight循环
      - 使用Tailwind渐变类实现文本渐变效果
    - **内容要求**:
      - 主标题: "AI时代一人军团" / "AI-Era One-Person Army"
      - 副标题: "产品 × 架构 × 数据" / "Product × Architecture × Data"
      - 描述: 18年经验的详细介绍
    - **样式要求**: 暗色背景，渐变文本，响应式布局
    - **验收标准**: 英雄区块正确显示，双语切换正常，视觉效果符合设计
    - _需求: 3.1, 3.3, 3.4, 3.5_

  - [ ] 5.2 实现能力展示卡片
    - **目标**: 展示三个核心技术能力领域，提供具体的技术证明
    - **具体操作**:
      - 创建 `src/components/CapabilityCards.tsx`
      - 实现三个卡片：工程能力、AI与视觉、数据循环
      - 每个卡片包含图标、标题、描述、技术列表
      - 使用CSS Grid实现响应式网格布局
    - **卡片内容**:
      - 工程: 100%无服务器架构，AWS Lambda, Kinesis视频流
      - AI视觉: Amazon Rekognition, LLM集成
      - 数据: Airbyte, 数据仓库分析
    - **样式要求**: 卡片悬停效果，图标动画，统一的视觉风格
    - **验收标准**: 三个卡片正确显示，内容准确，响应式布局正常
    - _需求: 4.1, 4.2, 4.3, 4.4, 4.5_

  - [ ]* 5.3 为首页组件编写属性测试
    - **目标**: 验证首页组件在语言切换时的内容渲染一致性
    - **测试内容**: 双语内容渲染、组件结构完整性
    - **属性4: 组件内容渲染**
    - **验证: 需求 3.1, 5.2, 5.4**

  - [ ]* 5.4 为首页组件编写单元测试
    - **目标**: 测试首页组件的具体渲染输出
    - **测试内容**: 英雄区块内容、能力卡片数量和内容
    - _需求: 3.1, 3.3, 3.4, 4.1, 4.2, 4.3, 4.4_

- [ ] 6. 检查点 - 确保基础功能正常
  - **目标**: 验证到目前为止的所有功能都正常工作
  - **检查内容**: 项目启动、语言切换、导航功能、首页显示
  - 确保所有测试通过，如有问题请询问用户

- [ ] 7. 管道模拟器组件
  - [ ] 7.1 实现管道模拟器核心功能
    - **目标**: 创建InterviewPass项目的数据处理管道可视化模拟器
    - **具体操作**:
      - 创建 `src/components/PipelineSimulator.tsx`
      - 实现终端风格的控制台界面，显示处理日志
      - 创建报告仪表板区域，包含视频占位符和AI洞察面板
      - 添加模拟数据和实时更新效果
    - **功能要求**:
      - 终端控制台：滚动日志、不同级别的消息（info, success, warning, error）
      - 仪表板：视频预览区域、AI分析结果显示
      - 模拟效果：定时更新日志，模拟实时处理
    - **样式要求**: 终端黑色背景，绿色文字，现代化仪表板设计
    - **验收标准**: 模拟器正确显示，日志更新正常，界面美观
    - _需求: 5.2, 5.3_

  - [ ] 7.2 集成Recharts图表
    - **目标**: 添加置信度分数的实时可视化图表
    - **具体操作**:
      - 安装和配置Recharts库
      - 创建置信度分数随时间变化的折线图
      - 实现数据动画和实时更新效果
      - 添加图表交互功能（悬停、缩放）
    - **图表要求**:
      - X轴：时间（秒）
      - Y轴：置信度分数（0-1）
      - 数据点：不同处理阶段的置信度变化
      - 动画：平滑的数据更新过渡
    - **样式要求**: 暗色主题，渐变线条，响应式设计
    - **验收标准**: 图表正确渲染，数据更新流畅，交互功能正常
    - _需求: 5.4_

  - [ ]* 7.3 为管道模拟器编写属性测试
    - **目标**: 验证管道模拟器的数据处理和渲染一致性
    - **测试内容**: 日志数据处理、图表数据绑定
    - **属性4: 组件内容渲染**（管道模拟器部分）
    - **验证: 需求 5.2, 5.4**

  - [ ]* 7.4 为管道模拟器编写单元测试
    - **目标**: 测试模拟器的具体功能和数据格式
    - **测试内容**: 日志显示、图表渲染、数据格式验证
    - _需求: 5.2, 5.3, 5.4_

- [ ] 8. 交互式架构图组件
  - [ ] 8.1 实现ReactFlow架构图
    - **目标**: 创建InterviewPass系统架构的交互式可视化图表
    - **具体操作**:
      - 创建 `src/components/InteractiveArch.tsx`
      - 配置ReactFlow库和自定义节点类型
      - 定义六个架构节点：用户客户端、Kinesis、Lambda、Rekognition、Airbyte、Snowflake
      - 设置节点位置、连接关系和数据流动画
    - **节点配置**:
      - 每个节点包含：标签、描述、技术栈、技术规格
      - 节点样式：统一的视觉设计，图标和颜色区分
      - 连接线：动画效果，表示数据流向
    - **布局要求**: 清晰的数据流向，合理的节点间距，响应式适配
    - **验收标准**: 架构图正确显示，节点信息完整，动画效果流畅
    - _需求: 6.1, 6.3, 6.4_

  - [ ] 8.2 添加节点交互功能
    - **目标**: 实现节点点击交互，显示详细的技术信息
    - **具体操作**:
      - 添加节点点击事件处理
      - 创建详细信息面板组件
      - 实现面板的显示/隐藏动画
      - 添加技术规格、性能指标、配置信息的展示
    - **交互要求**:
      - 点击节点：显示详细面板
      - 面板内容：技术描述、规格参数、使用场景
      - 关闭功能：点击外部或关闭按钮
      - 动画效果：平滑的进入/退出过渡
    - **验收标准**: 节点交互正常，面板内容准确，动画效果良好
    - _需求: 6.2_

  - [ ]* 8.3 为架构图编写属性测试
    - **目标**: 验证架构图的交互功能一致性
    - **测试内容**: 节点点击响应、面板显示逻辑
    - **属性5: 交互功能响应**
    - **验证: 需求 6.2**

  - [ ]* 8.4 为架构图编写单元测试
    - **目标**: 测试架构图的具体元素和配置
    - **测试内容**: 节点数量、连接关系、动画属性
    - _需求: 6.1, 6.3, 6.4_

- [ ] 9. AI聊天小部件
  - [ ] 9.1 实现AI小部件核心功能
    - **目标**: 创建浮动的AI聊天助手，提供个性化交互
    - **具体操作**:
      - 创建 `src/components/AiAgentWidget.tsx`
      - 实现浮动启动按钮，添加呼吸动画效果
      - 创建可展开/收缩的聊天窗口
      - 添加窗口状态管理和动画过渡
    - **功能要求**:
      - 启动按钮：右下角固定位置，呼吸动画
      - 聊天窗口：可展开的对话界面，Vertex AI API Route集成
      - 状态管理：展开/收缩状态，用户偏好记忆
      - 动画效果：平滑的展开/收缩过渡
    - **样式要求**: 现代化设计，与整体风格一致，z-index层级管理
    - **验收标准**: 小部件正确显示，动画流畅，状态管理正常
    - _需求: 7.1, 7.2_

  - [ ] 9.2 添加工作匹配功能和响应式设计
    - **目标**: 实现工作匹配模式和移动端适配
    - **具体操作**:
      - 添加工作匹配模式标签页
      - 集成外部聊天服务的iframe
      - 实现移动端响应式适配
      - 添加触摸友好的交互设计
    - **功能要求**:
      - 标签切换：普通聊天 vs 工作匹配模式
      - API Route集成：Vertex AI gemini-3.0-flash 流式响应
      - 移动适配：触摸操作，屏幕尺寸适配
      - 性能优化：懒加载，资源管理
    - **验收标准**: 工作匹配功能正常，移动端体验良好，性能表现优秀
    - _需求: 7.3, 7.4_

  - [ ]* 9.3 为AI小部件编写属性测试
    - **目标**: 验证AI小部件的交互和响应式行为
    - **测试内容**: 展开/收缩功能、响应式适配
    - **属性5: 交互功能响应**（AI小部件部分）
    - **属性6: 响应式设计适配**
    - **验证: 需求 7.2, 7.4**

  - [ ]* 9.4 为AI小部件编写单元测试
    - **目标**: 测试AI小部件的具体功能
    - **测试内容**: 启动按钮、工作匹配标签、动画效果
    - _需求: 7.1, 7.3_

- [ ] 10. 案例研究页面集成
  - [ ] 10.1 集成所有案例研究组件
    - **目标**: 将管道模拟器和架构图集成到统一的案例研究页面
    - **具体操作**:
      - 更新 `src/app/case-study/page.tsx`
      - 集成PipelineSimulator和InteractiveArch组件
      - 设计页面布局和组件间的协调
      - 添加页面介绍和导航
    - **布局设计**:
      - 页面标题和介绍
      - 管道模拟器区域
      - 架构图区域
      - 组件间的视觉连接和过渡
    - **验收标准**: 所有组件正确集成，页面布局美观，用户体验流畅
    - _需求: 5.5, 6.5_

  - [ ]* 10.2 为案例研究页面编写集成测试
    - **目标**: 验证案例研究页面的整体功能
    - **测试内容**: 组件集成、页面级交互
    - _需求: 5.5, 6.5_

- [ ] 11. 全局组件集成和系统测试
  - [ ] 11.1 确保全局组件可用性
    - **目标**: 验证和优化全局组件在所有页面的表现
    - **具体操作**:
      - 测试导航栏在所有页面的可见性和功能
      - 确保AI小部件在所有页面都可访问
      - 验证语言切换在页面间的状态持久化
      - 优化页面加载性能和用户体验
    - **测试场景**:
      - 页面间导航：状态保持，组件一致性
      - 语言切换：全局状态同步
      - 响应式行为：不同设备和屏幕尺寸
      - 性能表现：加载速度，交互响应
    - **验收标准**: 全局组件在所有场景下都正常工作，用户体验一致
    - _需求: 2.5, 7.5_

  - [ ]* 11.2 为全局组件编写属性测试
    - **目标**: 验证全局组件的系统级一致性
    - **测试内容**: 跨页面状态管理、组件可用性
    - **属性7: 全局组件可用性**
    - **验证: 需求 7.5, 8.4**

  - [ ]* 11.3 为技术栈一致性编写属性测试
    - **目标**: 验证整个系统的技术实现一致性
    - **测试内容**: Tailwind CSS使用、语言系统集成
    - **属性8: 技术栈一致性**
    - **验证: 需求 8.2, 8.5**

- [ ] 12. 代码质量和文档完善
  - [ ] 12.1 添加中文注释和文档
    - **目标**: 完善代码文档，确保项目的可维护性
    - **具体操作**:
      - 为所有组件添加详细的中文注释
      - 创建项目README.md，包含安装和使用说明
      - 编写组件文档和API说明
      - 添加开发和部署指南
    - **文档要求**:
      - 组件注释：功能描述、参数说明、使用示例
      - README：项目介绍、技术栈、安装步骤、开发指南
      - API文档：接口定义、数据结构、使用方法
      - 部署文档：构建流程、环境配置、部署步骤
    - **验收标准**: 所有代码都有中文注释，文档完整且易于理解
    - _需求: 8.3, 9.1, 9.2_

  - [ ]* 12.2 为代码质量编写属性测试
    - **目标**: 验证代码质量和文档标准的一致性
    - **测试内容**: 注释完整性、文档结构、代码规范
    - **属性9: 代码质量标准**
    - **验证: 需求 8.3, 9.1, 9.4**

- [ ] 13. 最终检查点 - 系统完整性验证
  - **目标**: 进行全面的系统测试和质量验证
  - **检查内容**: 所有功能正常、性能表现良好、用户体验优秀
  - 确保所有测试通过，如有问题请询问用户

- [ ] 14. SEO关键词策略实施
  - **目标**: 为所有页面配置完整的SEO元数据和结构化数据
  - **具体操作**:
    - 创建 `src/app/robots.ts` 动态robots.txt生成
    - 创建 `src/app/sitemap.ts` 动态sitemap.xml生成
    - 在 `layout.tsx` 中配置全局Metadata（title、description、keywords、Open Graph、Twitter Cards）
    - 在首页添加JSON-LD Person结构化数据（schema.org）
    - 每个页面导出独立的metadata
  - **关键词覆盖**: AI工程师、软件架构师、数据分析、产品设计（中英双语）
  - **验收标准**: `/robots.txt` `/sitemap.xml` 正常访问，JSON-LD有效，所有页面有完整metadata
  - _需求: 10.1-10.6_

- [ ] 15. MCP服务器开发
  - **目标**: 创建独立的MCP服务器，通过Model Context Protocol暴露作品集数据
  - **具体操作**:
    - 创建 `mcp-server/` 独立包（package.json、tsconfig.json）
    - 实现MCP服务器入口（`src/index.ts`）
    - 暴露Resources: portfolio://profile, portfolio://skills, portfolio://projects, portfolio://experience, portfolio://contact
    - 暴露Tools: search_skills(keyword), match_job(description), get_project_detail(name)
    - 创建作品集数据文件（`src/data.ts`）
    - 编写README.md（Claude Desktop配置说明）
  - **依赖**: `@modelcontextprotocol/sdk`, `zod`, `typescript`
  - **验收标准**: MCP服务器可通过Claude Desktop连接并查询数据
  - _需求: 11.1-11.4_

- [ ] 16. AI理解展示内容开发
  - **目标**: 在案例研究页面中添加AI技术理解展示区块
  - **具体操作**:
    - 创建 `src/components/AiInsightSection.tsx`
    - 展示Prompt Engineering、RAG、Agent架构、MCP协议理解
    - 展示Vertex AI集成能力
    - 所有内容通过t()函数支持双语
  - **验收标准**: 案例研究页包含AI理解展示，内容专业且双语完整
  - _需求: 12.1-12.4_

- [ ] 17. 数据分析方法论展示
  - **目标**: 创建独立的数据分析页面，展示方法论和技术能力
  - **具体操作**:
    - 创建 `src/data/synthetic-stock-data.ts` 预生成合成数据（~200交易日）
    - 创建 `src/components/DataAnalysisShowcase.tsx` 主组件
    - 创建 `src/components/TechnicalIndicatorChart.tsx` 技术指标图表（MA/EMA/RSI/MACD/布林带）
    - 创建 `src/components/StatisticalModelPanel.tsx` 统计建模面板
    - 创建 `src/app/data-analysis/page.tsx` 页面
    - 4步方法论流程：数据探索→指标计算→统计建模→结论
  - **数据策略**: 预生成合成数据，打包在代码中，运行时零API成本
  - **验收标准**: 页面展示完整的4步分析流程，图表交互正常，双语支持
  - _需求: 13.1-13.6_

## 注意事项

### 任务执行原则
- **增量开发**: 每个任务都建立在前一个任务的基础上，确保代码的连续性和集成性
- **测试驱动**: 标记为 `*` 的任务是可选的，但建议保留以确保代码质量
- **中文优先**: 所有代码注释、文档、变量名（适当时）都使用中文
- **一致性**: 严格遵循统一的编码规范和设计模式

### 关键技术决策
- **状态管理**: 使用React Context API进行语言状态管理，localStorage进行持久化
- **样式系统**: 严格使用Tailwind CSS，禁止内联样式和CSS模块
- **组件架构**: 功能组件 + TypeScript接口，清晰的props定义
- **测试策略**: 单元测试 + 属性测试的双重覆盖

### 性能考虑
- **懒加载**: 大型组件（如ReactFlow）使用动态导入
- **图片优化**: 使用Next.js Image组件，WebP格式优先
- **代码分割**: 页面级别的自动代码分割
- **缓存策略**: 静态资源缓存，API响应缓存

### 部署准备
- **环境变量**: 配置开发、测试、生产环境
- **构建优化**: 启用压缩、tree-shaking、代码分割
- **SEO优化**: 元数据、结构化数据、sitemap
- **监控集成**: 错误追踪、性能监控、用户分析

### 质量保证
- **代码审查**: 每个组件都应该经过功能和样式审查
- **跨浏览器测试**: 确保在主流浏览器中的兼容性
- **响应式测试**: 验证在不同设备和屏幕尺寸下的表现
- **可访问性**: 遵循WCAG 2.1 AA标准

### 项目维护
- **文档更新**: 随着功能开发同步更新文档
- **依赖管理**: 定期更新依赖，关注安全漏洞
- **性能监控**: 持续监控Core Web Vitals指标
- **用户反馈**: 建立反馈收集和处理机制

每个任务都引用特定需求以确保可追溯性，检查点确保增量验证，属性测试验证通用正确性属性，单元测试验证特定示例和边缘情况。使用@fast-check/jest进行基于属性的测试，每个测试最少100次迭代。